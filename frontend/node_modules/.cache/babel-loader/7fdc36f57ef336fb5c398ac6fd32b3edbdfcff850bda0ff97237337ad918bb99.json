{"ast":null,"code":"import _regeneratorRuntime from\"/Users/krishnan/ai-demos/astra-ai-demo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/krishnan/ai-demos/astra-ai-demo/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/krishnan/ai-demos/astra-ai-demo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/krishnan/ai-demos/astra-ai-demo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/krishnan/ai-demos/astra-ai-demo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Configuration,OpenAIApi}from'openai';import FormSection from'./components/FormSection';import AnswerSection from'./components/AnswerSection';import{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var configuration=new Configuration({apiKey:process.env.REACT_APP_OPENAI_API_KEY});var openai=new OpenAIApi(configuration);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),storedValues=_useState2[0],setStoredValues=_useState2[1];var generateResponse=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(newQuestion,setNewQuestion){var options,completeOptions,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:options={model:'text-davinci-003',temperature:0,max_tokens:100,top_p:1,frequency_penalty:0.0,presence_penalty:0.0,stop:['/']};completeOptions=_objectSpread(_objectSpread({},options),{},{prompt:newQuestion});_context.next=4;return openai.createCompletion(completeOptions);case 4:response=_context.sent;if(response.data.choices){setStoredValues([{question:newQuestion,answer:response.data.choices[0].text}].concat(_toConsumableArray(storedValues)));setNewQuestion('');}case 6:case\"end\":return _context.stop();}},_callee);}));return function generateResponse(_x,_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-section\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"ChatGPT CLONE \\uD83E\\uDD16\"}),storedValues.length<1&&/*#__PURE__*/_jsx(\"p\",{children:\"I am an automated question and answer system, designed to assist you in finding relevant information. You are welcome to ask me any queries you may have, and I will do my utmost to offer you a reliable response. Kindly keep in mind that I am a machine and operate solely based on programmed algorithms.\"})]}),/*#__PURE__*/_jsx(FormSection,{generateResponse:generateResponse}),storedValues.length>0&&/*#__PURE__*/_jsx(AnswerSection,{storedValues:storedValues})]});};export default App;","map":{"version":3,"names":["Configuration","OpenAIApi","FormSection","AnswerSection","useState","jsx","_jsx","jsxs","_jsxs","App","configuration","apiKey","process","env","REACT_APP_OPENAI_API_KEY","openai","_useState","_useState2","_slicedToArray","storedValues","setStoredValues","generateResponse","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newQuestion","setNewQuestion","options","completeOptions","response","wrap","_callee$","_context","prev","next","model","temperature","max_tokens","top_p","frequency_penalty","presence_penalty","stop","_objectSpread","prompt","createCompletion","sent","data","choices","question","answer","text","concat","_toConsumableArray","_x","_x2","apply","arguments","children","className","length"],"sources":["/Users/krishnan/ai-demos/astra-ai-demo/src/App.js"],"sourcesContent":["import { Configuration, OpenAIApi } from 'openai';\n\nimport FormSection from './components/FormSection';\nimport AnswerSection from './components/AnswerSection';\n\nimport { useState } from 'react';\n\nconst App = () => {\n\tconst configuration = new Configuration({\n\t\tapiKey: process.env.REACT_APP_OPENAI_API_KEY,\n\t});\n\n\tconst openai = new OpenAIApi(configuration);\n\n\tconst [storedValues, setStoredValues] = useState([]);\n\n\tconst generateResponse = async (newQuestion, setNewQuestion) => {\n\t\tlet options = {\n\t\t\tmodel: 'text-davinci-003',\n\t\t\ttemperature: 0,\n\t\t\tmax_tokens: 100,\n\t\t\ttop_p: 1,\n\t\t\tfrequency_penalty: 0.0,\n\t\t\tpresence_penalty: 0.0,\n\t\t\tstop: ['/'],\n\t\t};\n\n\t\tlet completeOptions = {\n\t\t\t...options,\n\t\t\tprompt: newQuestion,\n\t\t};\n\n\t\tconst response = await openai.createCompletion(completeOptions);\n\n\t\tif (response.data.choices) {\n\t\t\tsetStoredValues([\n\t\t\t\t{\n\t\t\t\t\tquestion: newQuestion,\n\t\t\t\t\tanswer: response.data.choices[0].text,\n\t\t\t\t},\n\t\t\t\t...storedValues,\n\t\t\t]);\n\t\t\tsetNewQuestion('');\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"header-section\">\n\t\t\t\t<h1>ChatGPT CLONE ðŸ¤–</h1>\n\t\t\t\t{storedValues.length < 1 && (\n\t\t\t\t\t<p>\n\t\t\t\t\t\tI am an automated question and answer system, designed to assist you\n\t\t\t\t\t\tin finding relevant information. You are welcome to ask me any\n\t\t\t\t\t\tqueries you may have, and I will do my utmost to offer you a\n\t\t\t\t\t\treliable response. Kindly keep in mind that I am a machine and\n\t\t\t\t\t\toperate solely based on programmed algorithms.\n\t\t\t\t\t</p>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<FormSection generateResponse={generateResponse} />\n\n\t\t\t{storedValues.length > 0 && <AnswerSection storedValues={storedValues} />}\n\t\t</div>\n\t);\n};\n\nexport default App;"],"mappings":"moBAAA,OAASA,aAAa,CAAEC,SAAS,KAAQ,QAAQ,CAEjD,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CAEtD,OAASC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjC,GAAM,CAAAC,GAAG,CAAG,QAAN,CAAAA,GAAGA,CAAA,CAAS,CACjB,GAAM,CAAAC,aAAa,CAAG,GAAI,CAAAV,aAAa,CAAC,CACvCW,MAAM,CAAEC,OAAO,CAACC,GAAG,CAACC,wBACrB,CAAC,CAAC,CAEF,GAAM,CAAAC,MAAM,CAAG,GAAI,CAAAd,SAAS,CAACS,aAAa,CAAC,CAE3C,IAAAM,SAAA,CAAwCZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7CG,YAAY,CAAAF,UAAA,IAAEG,eAAe,CAAAH,UAAA,IAEpC,GAAM,CAAAI,gBAAgB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,WAAW,CAAEC,cAAc,MAAAC,OAAA,CAAAC,eAAA,CAAAC,QAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACtDP,OAAO,CAAG,CACbQ,KAAK,CAAE,kBAAkB,CACzBC,WAAW,CAAE,CAAC,CACdC,UAAU,CAAE,GAAG,CACfC,KAAK,CAAE,CAAC,CACRC,iBAAiB,CAAE,GAAG,CACtBC,gBAAgB,CAAE,GAAG,CACrBC,IAAI,CAAE,CAAC,GAAG,CACX,CAAC,CAEGb,eAAe,CAAAc,aAAA,CAAAA,aAAA,IACff,OAAO,MACVgB,MAAM,CAAElB,WAAW,GAAAO,QAAA,CAAAE,IAAA,SAGG,CAAArB,MAAM,CAAC+B,gBAAgB,CAAChB,eAAe,CAAC,QAAzDC,QAAQ,CAAAG,QAAA,CAAAa,IAAA,CAEd,GAAIhB,QAAQ,CAACiB,IAAI,CAACC,OAAO,CAAE,CAC1B7B,eAAe,EACd,CACC8B,QAAQ,CAAEvB,WAAW,CACrBwB,MAAM,CAAEpB,QAAQ,CAACiB,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,CAACG,IAClC,CAAC,EAAAC,MAAA,CAAAC,kBAAA,CACEnC,YAAY,EACf,CAAC,CACFS,cAAc,CAAC,EAAE,CAAC,CACnB,CAAC,wBAAAM,QAAA,CAAAS,IAAA,MAAAjB,OAAA,GACD,kBA5BK,CAAAL,gBAAgBA,CAAAkC,EAAA,CAAAC,GAAA,SAAAlC,IAAA,CAAAmC,KAAA,MAAAC,SAAA,OA4BrB,CAED,mBACClD,KAAA,QAAAmD,QAAA,eACCnD,KAAA,QAAKoD,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC9BrD,IAAA,OAAAqD,QAAA,CAAI,4BAAgB,CAAI,CAAC,CACxBxC,YAAY,CAAC0C,MAAM,CAAG,CAAC,eACvBvD,IAAA,MAAAqD,QAAA,CAAG,gTAMH,CAAG,CACH,EACG,CAAC,cAENrD,IAAA,CAACJ,WAAW,EAACmB,gBAAgB,CAAEA,gBAAiB,CAAE,CAAC,CAElDF,YAAY,CAAC0C,MAAM,CAAG,CAAC,eAAIvD,IAAA,CAACH,aAAa,EAACgB,YAAY,CAAEA,YAAa,CAAE,CAAC,EACrE,CAAC,CAER,CAAC,CAED,cAAe,CAAAV,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}